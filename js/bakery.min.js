/*
	Cakes Galore Theme
	
	Author: Chantelle Fourie (Starlette)
	Author website: www.starlett.co.za
	
	Creation year: 2014	
*/

$(document).ready(function(){$(".header_top .cart li ul").hide(),$(".header_top .cart li").hover(function(){$("ul",this).fadeIn(200)},function(){$("ul",this).fadeOut(200)}),$(".menu_top a").each(function(i){for(var t=this.className.split(/\s+/),i=0,e=t.length;e>i;i++)$("body").hasClass(t[i])&&$(this).addClass("current")}),$(".mobile_menu").click(function(){$(this).siblings("ul").slideToggle(300)}),$(".sidenav a").each(function(i){for(var t=this.className.split(/\s+/),i=0,e=t.length;e>i;i++)$("body").hasClass(t[i])&&($(this).addClass("current"),$(this).parent("li").addClass("current"),$(this).parent("li").parent("ul").siblings(".tab").addClass("parent_current").addClass("active"))}),$(".sidenav a.parent_current").siblings("ul").show(),$(".menu_top ul li").hover(function(){$(this).children("ul").fadeIn(100)},function(){$(this).children("ul").fadeOut(100)}),$(".social_media_share").hide(),$(".social_media .share").click(function(i){$(".social_media_share").slideToggle(200),$(this).toggleClass("active"),$(".search_field").slideUp(200),$(".contact_section").slideUp(200),$(".social_media .search").removeClass("active"),$(".social_media .email").removeClass("active"),i.preventDefault()}),$(".search_field").hide(),$(".social_media .search").click(function(i){$(".search_field").slideToggle(200),$(this).toggleClass("active"),$(".social_media_share").slideUp(200),$(".contact_section").slideUp(200),$(".social_media .share").removeClass("active"),$(".social_media .email").removeClass("active"),i.preventDefault()}),$(".contact_section").hide(),$(".social_media .email").click(function(i){$(".contact_section").slideToggle(200),$(this).toggleClass("active"),$(".social_media_share").slideUp(200),$(".search_field").slideUp(200),$(".social_media .share").removeClass("active"),$(".social_media .search").removeClass("active"),i.preventDefault()});var i=$(location).attr("href"),t=$(".social_media_share").data("image"),e=$("title").text();$(".social_media_share .facebook").attr({href:"https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+i+"&p[images][0]="+t+"&p[title]="+e+"&p[summary]"}),$(".social_media_share .pinterest").attr({href:"http://pinterest.com/pin/create/button/?url="+i+"&media="+t+"&description="+e}),$(".social_media_share .twitter").attr({href:"http://twitter.com/share?url="+i+"&text="+e}),$(".social_media_share .googleplus").attr({href:"https://plusone.google.com/_/+1/confirm?hl=en&url="+i});var a=$("#tabs.lr div"),s=[],n=$("#tabs.lr"),s=[];a.each(function(){s.push($(this).height())});var r=Math.max.apply(this,s);n.height(r+30),$(".testimonial_wrap").each(function(){{var i=$(this).children("ul").children("li").size();$(this).children("ul").children("li").width()}$(this).children("ul").width(100*i+"%"),$(this).children("ul").children("li").width(100/i+"%")}),$(".testimonial_nav .prev").click(function(){var i=$(this).parent(".testimonial_nav").parent("h1").siblings(".testimonial_wrap").find("li:first"),t=$(this).parent(".testimonial_nav").parent("h1").siblings(".testimonial_wrap").find("li:last"),e=$(this).parent(".testimonial_nav").parent("h1").siblings(".testimonial_wrap").find("li").width();t.remove().css({"margin-left":-e}),i.before(t),t.animate({"margin-left":"0px"},300),i.prev().addClass("current"),i.removeClass("current")}),$(".testimonial_nav .next").click(function(){var i=$(this).parent(".testimonial_nav").parent("h1").siblings(".testimonial_wrap").find("li:first"),t=$(this).parent(".testimonial_nav").parent("h1").siblings(".testimonial_wrap").find("li:last"),e=$(this).parent(".testimonial_nav").parent("h1").siblings(".testimonial_wrap").find("li").width();i.next().addClass("current"),i.animate({"margin-left":-e},300,function(){i.remove().css({"margin-left":"0px"}),i.removeClass("current"),t.after(i)})}),$(".sale_item .image_holder").prepend('<span class="sale_label">Sale</span>'),$(".product_wrap").each(function(){$(this).after('<div class="product_nav clearfix"><a class="prev btn"></a><a class="next btn"></a></div>');{var i=$(this).children(".list_items").children().length,t=$(this).siblings(".product_nav"),e=$(this);$(".content article").width(),$(".bar").width()}4>=i&&(t.remove(),e.removeClass("product_wrap"))}),$(".product_nav .prev").click(function(){var i=$(this).parent(".product_nav").siblings(".product_wrap").find("li:first"),t=$(this).parent(".product_nav").siblings(".product_wrap").find("li:last"),e=$(this).parent(".product_nav").siblings(".product_wrap").find("li").width();t.remove().css({"margin-left":-e-30}),i.before(t),t.animate({"margin-left":"0px"},300),i.prev().addClass("current"),i.removeClass("current")}),$(".product_nav .next").click(function(){var i=$(this).parent(".product_nav").siblings(".product_wrap").find("li:first"),t=$(this).parent(".product_nav").siblings(".product_wrap").find("li:last"),e=$(this).parent(".product_nav").siblings(".product_wrap").find("li").width();i.next().addClass("current"),i.animate({"margin-left":-e-30},300,function(){i.remove().css({"margin-left":"0px"}),i.removeClass("current"),t.after(i)})}),$(".list_items p").text(function(i,t){var e=$.trim(t);return e.length>85?$.trim(e).substring(0,85)+"...":e}),$(".list_items h6 .title").text(function(i,t){var e=$.trim(t);return e.length>25?$.trim(e).substring(0,25)+"...":e}),$(".logo_slider").each(function(){$(this).after('<div class="logo_slider_nav"><a class="prev"></a> <a class="next"></a></div>')}),$(".logo_slider_nav .prev").click(function(){var i=$(this).parent(".logo_slider_nav").siblings(".logo_slider").find("li:first"),t=$(this).parent(".logo_slider_nav").siblings(".logo_slider").find("li:last"),e=$(this).parent(".logo_slider_nav").siblings(".logo_slider").find("li").width();t.remove().css({"margin-left":-e}),i.before(t),t.animate({"margin-left":"0px"},300),i.prev().addClass("current"),i.removeClass("current")}),$(".logo_slider_nav .next").click(function(){var i=$(this).parent(".logo_slider_nav").siblings(".logo_slider").find("li:first"),t=$(this).parent(".logo_slider_nav").siblings(".logo_slider").find("li:last"),e=$(this).parent(".logo_slider_nav").siblings(".logo_slider").find("li").width();i.next().addClass("current"),i.animate({"margin-left":-e},300,function(){i.remove().css({"margin-left":"0px"}),i.removeClass("current"),t.after(i)})}),$(".content_slider").each(function(){$(this).after('<div class="content_slider_nav"><a class="prev"></a> <a class="next"></a></div>');{var i=$(this).children("ul").children("li").size();$(this).children("ul").children("li").width()}$(this).children("ul").width(100*i+"%"),$(this).children("ul").children("li").width(100/i+"%")}),$(".content_slider_nav .prev").click(function(){var i=$(this).parent(".content_slider_nav").siblings(".content_slider").find("li:first"),t=$(this).parent(".content_slider_nav").siblings(".content_slider").find("li:last"),e=$(this).parent(".content_slider_nav").siblings(".content_slider").find("li").width();t.remove().css({"margin-left":-e}),i.before(t),t.animate({"margin-left":"0px"},300),i.prev().addClass("current"),i.removeClass("current")}),$(".content_slider_nav .next").click(function(){var i=$(this).parent(".content_slider_nav").siblings(".content_slider").find("li:first"),t=$(this).parent(".content_slider_nav").siblings(".content_slider").find("li:last"),e=$(this).parent(".content_slider_nav").siblings(".content_slider").find("li").width();i.next().addClass("current"),i.animate({"margin-left":-e},300,function(){i.remove().css({"margin-left":"0px"}),i.removeClass("current"),t.after(i)})}),$(".percentage_bars li").each(function(){var i=$(this).data("percentage"),t=$(this).children("span");t.append("<strong>"+i+"%</strong>"),t.css({width:i-2+"%"})}),$(".menu_top ul li.megamenu h1 small").text(function(i,t){var e=$.trim(t);return e.length>110?$.trim(e).substring(0,110)+"...":e}),$(".image_changer h1 a").each(function(){var i=$(this).parent("h1").siblings("a").children("img").attr("src"),t=$(this),e=$(this).data("image"),a=$(this).parent("h1").siblings("a").children("img");t.hover(function(){a.attr({src:e})},function(){a.attr({src:i})})}),$(".image_changer_small a").each(function(){var i=$(this).parent("li").siblings("img").attr("src"),t=$(this),e=$(this).data("image"),a=$(this).parent("li").siblings("img");t.hover(function(){a.attr({src:e})},function(){a.attr({src:i})})}),$("a.back_to_top").click(function(){return $("body,html").animate({scrollTop:0},400),!1});var l=$(".banner article").width();$(".products_banner").find("li").width(l),$(".banner_slider_products li:first").addClass("current"),$(".products_banner .prev").click(function(){var i=$(".banner_slider_products li:last"),t=$(".banner_slider_products li:first"),e=$(".products_banner").find("li").width();i.remove().css({"margin-left":-e}),$(".banner_slider_products li:first").before(i),i.animate({"margin-left":"0px"},500),t.prev().addClass("current"),t.delay(305).removeClass("current")}),$(".products_banner .next").click(function(){var i=($(".banner_slider_products li:last"),$(".banner_slider_products li:first")),t=$(".products_banner").find("li").width();i.next().addClass("current"),i.animate({"margin-left":-t},500,function(){i.remove().css({"margin-left":"0px"}),$(".banner_slider_products li:last").after(i),i.delay(305).removeClass("current")})}),$(".products_banner_wrap").each(function(){{var i=$(this).children("ul").children("li").size();$(this).children("ul").children("li").width()}$(this).children("ul").width(100*i+"%"),$(this).children("ul").children("li").width(100/i+"%")}),$(".products_banner li").each(function(){var i=$(this).data("background"),t=$(this).data("image");void 0==i||""==i||$(this).css("background","url("+i+") repeat-x top center fixed"),void 0==t||""==t||$(this).css("background","url("+t+") repeat-x top center")}),$(".product_images").each(function(){{var i=$(this).children("ul").children("li").size();$(this).children("ul").children("li").width()}$(this).children("ul").width(100*i+"%"),$(this).children("ul").children("li").width(100/i+"%")}),$(".product_images ul").each(function(){var i=$(this).children("li").size();1>=i&&$(".product_navigation").remove()}),$(".product_navigation .prev").click(function(){var i=$(".product_images li:last"),t=($(".product_images li:first"),$(".product_images").find("li").width());i.remove().css({"margin-left":-t}),$(".product_images li:first").before(i),i.animate({"margin-left":"0px"},300)}),$(".product_navigation .next").click(function(){var i=($(".product_images li:last"),$(".product_images li:first")),t=$(".product_images").find("li").width();i.animate({"margin-left":-t},300,function(){i.remove().css({"margin-left":"0px"}),$(".product_images li:last").after(i)})}),$("#tabs div").fadeOut(0),$("#tabs div.active").fadeIn(0),$("#tabs .tab").click(function(){$(this).siblings("div").fadeOut(0),$(this).siblings(".tab").removeClass("active"),$(this).next().is(":visible")||($(this).next().fadeIn(0),$(this).addClass("active"))}),$(".accordion .tab").click(function(){$(this).parent("li").parent("ul").find("ul").slideUp(200),$(this).parent("li").parent("ul").find(".tab").removeClass("active"),$(this).next().is(":visible")||($(this).next().slideDown(200),$(this).addClass("active"))}),$(".collapsible .tab").click(function(){$(this).toggleClass("active"),$(this).next().slideToggle(200)}),$("#toggle li").each(function(){var i=$(this).children("ul").children("li").size();i>=2&&($(this).children(".tab").addClass("arrow").addClass("noBorder"),$(this).children("ul").addClass("noPadding"),$(this).children(".arrow").click(function(i){i.preventDefault()}))}),$(".text li").each(function(){$(this).children(".tab").addClass("arrow")}),$(".sub_products_list ul").each(function(){var i=$(this).children("li").size();6>=i&&$(".sub_products_nav").remove()}),$(".sub_products_nav .prev").click(function(){var i=$(".sub_products_list li:last"),t=($(".sub_products_list li:first"),$(this).parent(".sub_products_nav").siblings(".sub_products_list").find("li").width());i.remove().css({"margin-left":-t}),$(".sub_products_list li:first").before(i),i.animate({"margin-left":"0px"},300)}),$(".sub_products_nav .next").click(function(){var i=($(".sub_products_list li:last"),$(".sub_products_list li:first")),t=$(this).parent(".sub_products_nav").siblings(".sub_products_list").find("li").width();i.animate({"margin-left":-t},300,function(){i.remove().css({"margin-left":"0px"}),$(".sub_products_list li:last").after(i)})}),$("form").submit(function(){var i=$.validate.form(this);return i}),$(".product_images li").each(function(){var i=$(this).attr("title");void 0==i||$(this).append("<span>"+i+"</span>")}),$(".product_images li").each(function(){$(this).attr("title","")}),$(".replies_toggle li ul").hide(),$(".replies_toggle .tab").click(function(){$(this).parent("li").parent("ul").find("ul").slideUp(200),$(this).parent("li").parent("ul").find(".tab").removeClass("active"),$(this).next().is(":visible")||($(this).next().slideDown(200),$(this).addClass("active"))}),$(".replies_toggle").each(function(){var i=$(this).children("li.replies_content").children("ul").children("li").size();1==i?$(this).children("li.replies_content").children(".toggle_replies").prepend(i+" Reply"):i>=2?$(this).children("li.replies_content").children(".toggle_replies").prepend(i+" Replies"):0==i&&$(this).children("li.replies_content").children(".toggle_replies").remove()}),$(".comments").hide(),$(".toggle_comments").click(function(){$(this).next().slideToggle(200),$(this).toggleClass("active")});var c=$(".comments").children(".comment").size();$(".total_comments").text("("+c+")"),$(".close").fadeOut(0),$(".popup").click(function(i){var t=$(this).attr("href"),e=$(this).attr("title"),a=$(this).data("description"),s=$(this).data("new"),n=$(this).data("sale"),r=$(this).data("button"),l=$(this).data("button-text"),c='<div class="popupMain"><div class="outer"><div class="main"><img src="'+t+'" /></div></div></div>';$(".popupMain").remove(),$("body").append(c),void 0==e||""==e||$(".main img").before("<h1>"+e+"</h1>"),void 0==a||""==a||$(".main img").after('<br /><span class="desc">'+a+"</span>"),void 0==s||""==s||$(".main img").after('<span class="new"></span>'),void 0==n||""==n||$(".main img").after('<span class="sale"></span>'),void 0==r||""==r||$(".main").append('<p align="center"><a href="'+r+'" class="btn nrm lwc black none3 popupBtn">Read more</a></p>'),void 0==l||""==l||$(".popupBtn").text(l),$(".popupMain").fadeOut(0).css({top:"0%"}).fadeIn(100),$(".close").fadeIn(200),i.preventDefault()}),$("body").append('<a class="close">CLOSE</a>'),$(".close").click(function(){$(".popupMain").css({top:"-100%"}).fadeOut(200),$(this).fadeOut(100)}),$("#da-thumbs > li").each(function(){$(this).hoverdir()}),$(".shopping_cart tr").each(function(){var i=$(".value",this).val(),t=$(".unitPrice span",this).text(),e=$(".totalPrice span",this),a=$(".remove",this),s=$(".shopping_cart tr").size(),n=$(".shopping_cart");e.text(t*i),$(".value",this).bind("change",function(){var i=$(this).val();e.text(t*i)}),a.click(function(){$(this).parent("td").parent("tr").remove()}),1>=s&&(n.after('<h4 align="center" style="min-height:350px;">You have no products in your shopping cart.</h4>'),n.remove())});var o={};$(".shopping_cart .totalPrice span").each(function(){o[this.text]=(o[this.text]||0)+ +$(this).text()});var d=$.map(o,function(i){return i}).join("");$(".overalAmount").text(d),$(".value").bind("change",function(){var i={};$(".shopping_cart .totalPrice span").each(function(){i[this.text]=(i[this.text]||0)+ +$(this).text()});var t=$.map(i,function(i){return i}).join("");$(".overalAmount").text(t)}),$(".remove").click(function(){var i={};$(".shopping_cart .totalPrice span").each(function(){i[this.text]=(i[this.text]||0)+ +$(this).text()});var t=$.map(i,function(i){return i}).join("");$(".overalAmount").text(t);var e=$(".shopping_cart tr").size();1>=e&&($(".shopping_cart").after('<h4 align="center" style="min-height:350px;">You have no products in your shopping cart.</h4>'),$(".shopping_cart").remove(),$(".totalPriceCalculated").remove(),$(".checkout").remove())})});